{"version":3,"sources":["capital-marketing.js"],"names":["jQuery","document","ready","$","find","each","index","link","href","attr","regexp","test","parents","length","parts","split","args","utm_source","utm_campaign","utm_medium","i","param","vars","aff","params","prop","hasOwnProperty","push","join","console","log","this"],"mappings":"AAAAA,OAAOC,UAAUC,MAAM,SAAUC,GAE/B,YAEAA,GAAEF,UAAUG,KAAK,WAAWC,KAAK,SAASC,EAAOC,GAC/C,GAAIC,GAAOL,EAAEI,GAAME,KAAK,QACpBC,EAAS,+MACb,KAAOF,EAAKG,KAAKD,IAAWF,EAAKG,KAAK,kBAAqBR,EAAEI,GAAMK,QAAQ,2BAA2BC,OAAS,CAC7G,GAAIC,GAAQN,EAAKO,MAAO,KACpBC,GACFC,WAAc,WACdC,aAAc,YACdC,WAAc,iBAEX,GAAIL,EAAMD,QACbV,EAAEE,KAAKS,EAAM,GAAGC,MAAM,KAAM,SAASK,EAAGC,GACtC,GAAIC,GAAOD,EAAMN,MAAM,IACvBC,GAAKM,EAAK,IAAMA,EAAK,KAGrBd,EAAKG,KAAK,qDACZK,EAAKO,IAAM,KAEb,IAAIC,KACJ,KAAI,GAAIC,KAAQT,GACXA,EAAKU,eAAeD,IACrBD,EAAOG,KAAKF,EAAO,IAAMT,EAAKS,GAGlCX,GAAM,GAAKU,EAAOI,KAAK,KACvBC,QAAQC,IAAIhB,GACZX,EAAE4B,MAAMtB,KAAK,OAAQK,EAAMc,KAAK","file":"../capital-marketing.js","sourcesContent":["jQuery(document).ready(function ($) {\n\n  'use strict';\n\n  $(document).find('a[href]').each(function(index, link){\n    var href = $(link).attr('href');\n    var regexp = /^https?:\\/\\/(akismet\\.com|wordbench\\.org|capitalp|hametuha|amazon|(.*\\.)?wordpress\\.org|itunes\\.apple\\.com|twitter\\.com|www\\.facebook.com|www\\.instagram\\.com|github\\.com|wpdocs\\.osdn\\.jp|b\\.hatena\\.ne\\.jp)/;\n    if ( ! href.test(regexp) && href.test(/^https?:\\/\\//) && ! $(link).parents('.js-wp-oembed-blog-card').length ) {\n      var parts = href.split( '?' );\n      var args = {\n        utm_source:   'capitalp',\n        utm_campaign: 'SponsorUs',\n        utm_medium:   'voluntary_link'\n      };\n      if ( 1 < parts.length ) {\n        $.each(parts[1].split('&'), function(i, param){\n          var vars = param.split('=');\n          args[vars[0]] = vars[1];\n        });\n      }\n      if( href.test(/^https:\\/\\/(wordpress|jetpack|woocommerce)\\.com/) ) {\n        args.aff = 4310;\n      }\n      var params = [];\n      for(var prop in args){\n        if(args.hasOwnProperty(prop)){\n          params.push(prop + '=' + args[prop]);\n        }\n      }\n      parts[1] = params.join('&');\n      console.log(parts);\n      $(this).attr('href', parts.join('?'));\n    }\n  });\n\n\n});\n"]}